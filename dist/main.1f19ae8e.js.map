{"version":3,"sources":["main.js"],"names":["board","Array","getNumberBackgroundColor","number","getNumberColor","showNumberWithAnimation","x","y","randNumber","numberCell","$","css","text","animate","width","height","top","getPosTop","left","getPosLeft","i","j","newGame","init","generateOneNumber","gridCell","updateBoardView","append","randomX","parseInt","Math","floor","random","randomY","randomNumber"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"..","sourcesContent":["var board = new Array()\r\n\r\n\r\nfunction getNumberBackgroundColor(number){\r\n    if(number===2){\r\n        return \"#eee4da\"\r\n    }else if(number ===4){\r\n        return \"#ede0c8\"\r\n    }else if(number ===8){\r\n        return \"#f2b179\"\r\n    }else if(number ===16){\r\n        return \"#f59563\"\r\n    }else if(number ===32){\r\n        return \"#f67c5f\"\r\n    }else if(number ===64){\r\n        return \"#f65e3b\"\r\n    }else if(number ===128){\r\n        return \"#edcf72\"\r\n    }else if(number ===256){\r\n        return \"#edcc61\"\r\n    }else if(number ===512){\r\n        return \"#9c0\"\r\n    }else if(number ===1024){\r\n        return \"#33b5e5\"\r\n    }else if(number ===2048){\r\n        return \"#09c\"\r\n    }else if(number ===4096){\r\n        return \"#a6c\"\r\n    }else if(number ===8192){\r\n        return \"#93c\"\r\n    }\r\n}\r\n\r\nfunction getNumberColor(number){\r\n    if(number<=4){\r\n        return \"#776e65\"\r\n    }\r\n    return 'white'\r\n}\r\n\r\nfunction showNumberWithAnimation(x,y,randNumber){\r\n    let numberCell = $('#number-cell-'+x+'-'+y)\r\n    numberCell.css('background-color',getNumberBackgroundColor(randNumber))\r\n    numberCell.css('color',getNumberColor(randNumber))\r\n    numberCell.text(randNumber)\r\n\r\n    numberCell.animate({\r\n        width:'100px',\r\n        height:'100px',\r\n        top: getPosTop(x,y),\r\n        left: getPosLeft(x,y)\r\n    },50)\r\n}\r\n\r\nfunction getPosTop(i,j){\r\n    return 20+ i*120;\r\n}\r\n\r\nfunction getPosLeft(i,j){\r\n    return 20+j*120;\r\n}\r\n\r\n$(function(){\r\n    newGame();\r\n})\r\n\r\n\r\nfunction newGame(){\r\n    init();\r\n    generateOneNumber()\r\n    generateOneNumber()\r\n}\r\n\r\nfunction init(){\r\n    for(let i =0;i<4;i++){\r\n        board[i]= new Array();\r\n        for(let j=0;j<4;j++){\r\n            board[i][j] =0;\r\n            let gridCell = $('#grid-cell-'+i+'-'+j)\r\n            gridCell.css('top',getPosTop(i,j))\r\n            gridCell.css('left',getPosLeft(i,j))\r\n        }\r\n    }\r\n    updateBoardView()\r\n}\r\n\r\nfunction updateBoardView(){\r\n    for(let i=0;i<4;i++){\r\n        for(let j=0;j<4;j++){\r\n            $('#grid-container').append(\"<div class='number-cell' id='number-cell-\"+i+'-'+j+\"'></div>\")\r\n            let numberCell = $('#number-cell-'+i+'-'+j)\r\n            if(board[i][j]==0){\r\n                numberCell.css('width','0px')\r\n                numberCell.css('height','0px')\r\n                numberCell.css('top',getPosTop(i,j)+50)\r\n                numberCell.css('left',getPosLeft(i,j)+50)\r\n            }else{\r\n                numberCell.css('width','100px')\r\n                numberCell.css('height','100px')\r\n                numberCell.css('top',getPosTop(i,j))\r\n                numberCell.css('left',getPosLeft(i,j))\r\n                numberCell.css('background-color',getNumberBackgroundColor(board[i][j]))\r\n                numberCell.css('color',getNumberColor(board[i][j]))\r\n                numberCell.text(board[i][j])\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction generateOneNumber(){\r\n    let randomX = parseInt(Math.floor(Math.random()*4))\r\n    let randomY = parseInt(Math.floor(Math.random()*4))\r\n    while(true){\r\n        if(board[randomX][randomY]==0){\r\n            break\r\n        }else{\r\n            randomX = parseInt(Math.floor(Math.random()*4))\r\n            randomY = parseInt(Math.floor(Math.random()*4))\r\n        }\r\n    }\r\n    let randomNumber = Math.random()<0.5? 2:4\r\n\r\n    board[randomX][randomY] = randomNumber\r\n    showNumberWithAnimation(randomX,randomY,randomNumber)\r\n}"]}